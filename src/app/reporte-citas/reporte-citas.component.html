<ActionBar title="Reporte de citas" class="barra">
    <NavigationButton ios:visibility="collapsed" icon="res://boton_burger" (tap)="onDrawerButtonTap()">
    </NavigationButton>
    <ActionItem icon="res://boton_burger" android:visibility="collapsed" ios.position="left"
        (tap)="onDrawerButtonTap()">
    </ActionItem>
    <Label text="Reporte de citas" class="titulo"> </Label>
</ActionBar>
<GridLayout class="fondo">

    <TabView selectedTabTextColor="blue" tabBackgroundColor="white" tabTextFontSize="16"
        androidSelectedTabHighlightColor="gray">
        <StackLayout class="contenido"
            *tabItem="{title: 'Progreso', iconSource: '~/images/icons/reporte-citas/progreso.png', textTransform: 'lowercase'}">
            <GridLayout rows="*" height="1000px">
                <RadCartesianChart row="0" style="font-size: 12;">
                    <CategoricalAxis tkCartesianHorizontalAxis></CategoricalAxis>
                    <LinearAxis tkCartesianVerticalAxis></LinearAxis>
                    <BarSeries tkCartesianSeries [items]="citas" categoryProperty="Citas" valueProperty="Cantidad">
                    </BarSeries>
                </RadCartesianChart>
            </GridLayout>
        </StackLayout>
        <StackLayout
            *tabItem="{title: 'Calendario', iconSource: '~/images/icons/reporte-citas/calendario.png', textTransform: 'lowercase'}">
            <RadCalendar [eventSource]="calendarEvents" eventsViewMode="Inline" selectionMode="Single" viewMode="Month"
                transitionMode="Stack" locale="es-MX" (dateSelected)="onDateSelected($event)"
                (dateDeselected)="onDateDeselected($event)" (navigatedToDate)="onNavigatedToDate($event)"
                (navigatingToDateStarted)="onNavigatingToDateStarted($event)"
                (viewModeChanged)="onViewModeChanged($event)"></RadCalendar>
        </StackLayout>
        <!--Listado de citas -->
        <ScrollView
            *tabItem="{title: 'Lista de citas', iconSource: '~/images/icons/reporte-citas/listacitas.png', textTransform: 'lowercase', tabBackgroundColor: 'red'}">
            <StackLayout class="fondoreporte">
                <RadListView [items]="citasPorBloque">
                    <ng-template let-item="item">
                        <GridLayout class="lista" [ngStyle]="{ 'background-color': item.asistenciaCita === true ? 'green' : (item.asistenciaCita === null ? 'gray': 'red' )}" rows="*,*" columns="30, auto, *">
                            <label row="0" col="1" class="paciente-text-bold-top" text="Tipo de cita:"></label>
                            <Label row="0" col="2" class="paciente-text-grado" [text]="item.tipoCita"></Label>
                            <label row="1" col="1" class="paciente-text-bold" text="Fecha:"></label>
                            <Label row="1" col="2" class="paciente-text-fecha" [text]="item.fechaCita"></Label>
                        </GridLayout>
                    </ng-template>
                </RadListView>
            </StackLayout>
        </ScrollView>
    </TabView>
</GridLayout>
