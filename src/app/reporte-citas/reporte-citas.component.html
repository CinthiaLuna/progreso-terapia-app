<ActionBar title="Reporte de citas" class="barra">
    <NavigationButton ios:visibility="collapsed" icon="res://boton_burger" (tap)="onDrawerButtonTap()">
    </NavigationButton>
    <ActionItem icon="res://boton_burger" android:visibility="collapsed" ios.position="left"
        (tap)="onDrawerButtonTap()">
    </ActionItem>
    <Label text="Reporte de citas" class="titulo"> </Label>
</ActionBar>
<GridLayout class="fondo">

    <TabView selectedTabTextColor="blue" tabBackgroundColor="white" tabTextFontSize="16"
        androidSelectedTabHighlightColor="gray">
        <StackLayout class="contenido"
            *tabItem="{title: 'Progreso', iconSource: '~/images/icons/reporte-citas/progreso.png', textTransform: 'lowercase'}">
            <label text="PROGRESO DEL PACIENTE"></label>
            <label text="Bloque actual: {{bloqueMayor}}"></label>
            <StackLayout class="paciente">
                <label class="asistencia" text="Asistencias"></label>
                <label class="faltas" text="Faltas"></label>
            </StackLayout>
            <RadRadialGauge>
                <RadialScale tkRadialGaugeScales minimum="1" maximum="12" radius="0.90">
                    <ScaleStyle tkRadialScaleStyle majorTicksCount="1" minorTicksCount="1" lineThickness="0"
                        labelsCount="12" ticksOffset="0"></ScaleStyle>
                    <RadialBarIndicator tkRadialScaleIndicators minimum="1" maximum="{{asistencias}}" location="0.97">
                        <BarIndicatorStyle tkRadialBarIndicatorStyle fillColor="#9DCA56"></BarIndicatorStyle>
                    </RadialBarIndicator>
                    <RadialBarIndicator tkRadialScaleIndicators minimum="{{asistencias}}" maximum="{{faltas}}"
                        location="0.97">
                        <BarIndicatorStyle tkRadialBarIndicatorStyle fillColor="#f43f1f"></BarIndicatorStyle>
                    </RadialBarIndicator>
                    <RadialNeedle tkRadialScaleIndicators value="{{sesionEvaluada}}"></RadialNeedle>
                </RadialScale>
            </RadRadialGauge>
        </StackLayout>
        <StackLayout
            *tabItem="{title: 'Calendario', iconSource: '~/images/icons/reporte-citas/calendario.png', textTransform: 'lowercase'}">
            <RadCalendar [eventSource]="calendarEvents" eventsViewMode="Inline" selectionMode="Single" viewMode="Month"
                transitionMode="Stack" locale="es-MX" (dateSelected)="onDateSelected($event)"
                (dateDeselected)="onDateDeselected($event)" (navigatedToDate)="onNavigatedToDate($event)"
                (navigatingToDateStarted)="onNavigatingToDateStarted($event)"
                (viewModeChanged)="onViewModeChanged($event)"></RadCalendar>
        </StackLayout>
        <!--Listado de citas -->
        <ScrollView
            *tabItem="{title: 'Lista de citas', iconSource: '~/images/icons/reporte-citas/listacitas.png', textTransform: 'lowercase', tabBackgroundColor: 'red'}">
            <StackLayout class="fondoreporte">
                <RadListView [items]="citasPorBloque">
                    <ng-template let-item="item">

                            <GridLayout class="lista"
                                [ngStyle]="{ 'background-color': item.asistenciaCita === true ? 'green' : (item.asistenciaCita === null ? 'gray': 'red' )}"
                                rows="*,*" columns="30, auto, *">
                                <label row="0" col="1" class="paciente-text-bold-top" text="Tipo de cita:"></label>
                                <Label row="0" col="2" class="paciente-text-grado" [text]="item.tipoCita"></Label>
                                <label row="1" col="1" class="paciente-text-bold" text="Fecha:"></label>
                                <Label row="1" col="2" class="paciente-text-fecha" [text]="item.fechaCita"></Label>
                            </GridLayout>
                    </ng-template>
                </RadListView>
            </StackLayout>
        </ScrollView>
    </TabView>
</GridLayout>